# 1. 환경 설정
gpu_id: 0
use_gpu: True
seed: 42
worker: 4
state: INFO
reproducibility: True
data_path: data/train/  # 데이터 경로 확인

# 2. 데이터 설정
dataset: movie
load_col:
    inter: [user, item, timestamp]
    item: [item] # NARM은 기본적으로 ID만 봅니다. (Side-Info 로드 안 해도 무방)

USER_ID_FIELD: user
ITEM_ID_FIELD: item
TIME_FIELD: timestamp

# 시퀀스 길이 (메모리 및 성능 최적화)
MAX_ITEM_LIST_LENGTH: 50

# 3. 모델 설정 (NARM)
model: NARM

# 하이퍼파라미터
embedding_size: 64      # 임베딩 크기
hidden_size: 128        # GRU 히든 레이어 크기 (임베딩의 2배 추천)
n_layers: 1             # NARM은 보통 1층에서 성능이 제일 좋음 (복잡하면 과적합)
dropout_probs: [0.25, 0.5] # [Input Dropout, Hidden Dropout] - 과적합 방지 중요
loss_type: CE           # Cross Entropy

# 4. 학습 설정
epochs: 100
train_batch_size: 2048  # V100 32GB 기준 넉넉함
eval_batch_size: 2048  # 평가 속도 확보
learner: adam
learning_rate: 0.001
early_stopping_step: 10
train_neg_sample_args: ~

# 5. 평가 설정
eval_args:
    split: {'RS': [0.8, 0.1, 0.1]}
    group_by: user
    order: TO
    mode: full

eval_neg_sample_args: ~

metrics: ['Recall', 'NDCG', 'MRR']
topk: [10]
valid_metric: Recall@10